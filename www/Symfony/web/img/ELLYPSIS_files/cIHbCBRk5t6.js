/*!CK:3469695556!*//*1457738016,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["49\/Se"]); }

__d("CommerceSelfServeNUXType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={DISCOUNT_CODES_UPSELL:"discount_codes_upsell",FIRST_ORDER_BANNER:"first_order_banner",FIRST_ORDER_MODAL:"first_order_modal",SHOP_NOW_CTA:"shop_now_cta",SHOP_TAB_IN_PUBLISHING_TOOLS:"shop_tab_pt_self_serve_nux",SHOP_TAB_ON_PAGE:"shop_tab_page_self_serve_nux"};},null);
__d('PageWebsiteLogger',['Banzai','Event'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={init:function(i,j,k,l){c('Event').listen(i,'click',function(m){this.log({user_id:j,page_id:k,website_url:l});}.bind(this));},log:function(i){c('Banzai').post('page_website_logger',i);}};f.exports=h;},null);
__d('ComposerXPages',['Arbiter','CurrentUser','DOM','DOMScroll','URI','Event','ge','ReactComposerAttachmentActions','ReactComposerAttachmentType'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={initScrollToComposer:function(i){c('Event').listen(i,'click',function(){this._scrollAndFocus(c('ge')('pagelet_timeline_recent'));}.bind(this));},initScrollToComposerWithUserVoice:function(i,j){c('Event').listen(i,'click',function(){var k=c('ge')(j);c('Arbiter').inform('ComposerXPages/composePostWithActor',{actorID:c('CurrentUser').getID(),callback:function(){c('DOM').find(k,'textarea.input').focus();}});this._scrollAndFocus(k);}.bind(this));},scrollToComposer:function(i){var j=window.location.href;if(c('URI').getRequestURI().getQueryData().focus_composer||c('URI').getRequestURI().getQueryData().scroll_to_composer){c('Event').listen(window,'load',function(){this._scrollAndFocus(i);}.bind(this));}else if(j.indexOf("focus_composer")!=-1)this._scrollAndFocus(i);},registerForAutoClose:function(i,j){c('Arbiter').subscribe('Pages/composeFinished',function(k,l){if(l.composerID===j){i.hide();if(l.contentID)c('Arbiter').inform('composer/publish',{content_id:l.contentID,matchData:{content_id:l.contentID}});}});},openMediaTab:function(i){c('ReactComposerAttachmentActions').selectAttachment(i.id,c('ReactComposerAttachmentType').MEDIA,true);},_scrollAndFocus:function(i){c('DOMScroll').scrollTo(i,500,false,false,0,function(){c('DOM').find(i,'textarea.input').focus();});}};f.exports=h;},null);
__d('ContextRowEventLogger',['Event','BanzaiLogger'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={registerContextRowClickAction:function(i,j){c('Event').listen(i,'click',function(){c('BanzaiLogger').log('PageContextRowEventsLoggerConfig',j);});}};f.exports=h;},null);
__d("XCommerceSelfServeMerchantNUXSeenController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/commerce\/self-serve\/merchant\/mark-nux-seen\/",{page_id:{type:"Int",required:true},nux_type:{type:"Enum",required:true,enumType:1}});},null);
__d('PagesNavigationTabNUX.react',['fbt','invariant','AsyncRequest','CommerceSelfServeNUXType','React','XCommerceSelfServeMerchantNUXSeenController','XUIAmbientNUX.react'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'PagesNavigationTabNUX',propTypes:{contextRef:j.func.isRequired,pageID:j.string.isRequired,shown:j.bool.isRequired,tab:j.string.isRequired},getInitialState:function(){return {shown:true};},componentDidMount:function(){var l=c('XCommerceSelfServeMerchantNUXSeenController').getURIBuilder().setInt('page_id',this.props.pageID).setEnum('nux_type',c('CommerceSelfServeNUXType').SHOP_TAB_ON_PAGE).getURI();new (c('AsyncRequest'))(l).send();},render:function(){!(this.props.tab==='shop')?i(0):undefined;if(!this.props.shown)return null;return (c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:function(){return this.props.contextRef(this.props.tab);}.bind(this),customwidth:250,key:this.props.tab,onCloseButtonClick:function(){return this.setState({shown:false});}.bind(this),position:'above',shown:this.state.shown,width:'custom'},h._("Nouveau\u00a0! Visitez cet onglet pour g\u00e9rer votre nouvelle boutique.")));}});f.exports=k;},null);
__d("XPageTabsReorderingController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/tabs\/reorder\/",{page_id:{type:"Int",required:true},__asyncDialog:{type:"Int"}});},null);
__d('PagesNavigationBar.react',['cx','fbt','AsyncRequest','DOM','DOMContainer.react','Event','PagesEventObserver','PagesEventType','PagesNavigationTabNUX.react','React','ReactDOM','XPageTabsReorderingController','XUIPageNavigation.react','XUIPageNavigationGroup.react','XUIPageNavigationItem.react','UIPagelet'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k='manage_tabs',l=8,m=c('React').createClass({displayName:'PagesNavigationBar',propTypes:{isPresence:j.bool.isRequired,pageID:j.string.isRequired,selectedKey:j.string.isRequired,showAddSection:j.bool.isRequired,showManageSections:j.bool.isRequired,tabsData:j.array.isRequired,visibleTabs:j.number.isRequired,isServerSideRendering:j.bool},getInitialState:function(){var n;if(this.props.isServerSideRendering){n=c('React').createElement('div',{className:"_58gm"});}else n=c('DOM').create('div',{className:"_58gm"});return {leftChildWidth:'100%',pagesActionsPageletDOM:n,showNUXes:false};},shouldComponentUpdate:function(n,o){return this.props.pageID!==n.pageID||this.state.leftChildWidth!==o.leftChildWidth;},componentDidMount:function(){this._fetchPagesActionsSection();this.setState({showNUXes:true});},render:function(){return (c('React').createElement('div',null,this._getTabNavigationSection(),this._getPagesActionsSection(),this._getTabNUXes()));},_resize:function(n){n();if(this.state.pagesActionsPageletDOM===null)return;var o=this.state.pagesActionsPageletDOM.clientWidth+l,p=c('ReactDOM').findDOMNode(this).clientWidth-o;c('Event').fire(window,'resize',{});this.setState({leftChildWidth:p+'px'});},_getPagesActionsSection:function(){if(!this.props.isPresence&&!this.props.showAddSection)return null;return (c('React').createElement('div',{className:"_4c6a"},c('React').createElement(c('DOMContainer.react'),null,this.state.pagesActionsPageletDOM)));},_fetchPagesActionsSection:function(){if(!this.props.isPresence&&!this.props.showAddSection)return;c('UIPagelet').loadFromEndpoint('PagesActionsPagelet',this.state.pagesActionsPageletDOM,{page:this.props.pageID,tabkey:this.props.selectedKey,onlyshowaddsection:!this.props.isPresence},{displayCallback:this._resize});},_getTabNavigationSection:function(){var n=this.props.tabsData.map(function(q){return (c('React').createElement(c('XUIPageNavigationItem.react'),{href:q.href,rel:q.rel,ajaxify:q.ajaxify,key:q.key},c('React').createElement('span',{ref:q.key},q.label)));}),o=this._getManageSectionsTab();if(o!==null)n.push(o);var p=n.length===this.props.visibleTabs+1?n.length:this.props.visibleTabs;return (c('React').createElement('div',{style:{width:this.state.leftChildWidth}},c('React').createElement(c('XUIPageNavigation.react'),{defaultActiveTabKey:this.props.selectedKey,onTabClick:this._onTabClick},c('React').createElement(c('XUIPageNavigationGroup.react'),{maxTabsVisible:p},n))));},_getTabNUXes:function(){return this.props.tabsData.map(function(n){return n.show_nux?c('React').createElement(c('PagesNavigationTabNUX.react'),{contextRef:function(o){return this.refs[o];}.bind(this),key:n.key+'_nux',pageID:this.props.pageID,shown:this.state.showNUXes,tab:n.key}):null;}.bind(this));},_onTabClick:function(n){c('PagesEventObserver').notify(c('PagesEventType').CLICK_PROFILE_NAVBAR_TAB,this.props.pageID,{tab_key:n,is_www_presence:this.props.isPresence});if(n===k){var o=c('XPageTabsReorderingController').getURIBuilder().setInt('page_id',this.props.pageID).getURI();new (c('AsyncRequest'))(o).setData({rel:'dialog'}).send();return false;}return true;},_getManageSectionsTab:function(){if(!this.props.showManageSections)return null;return (c('React').createElement(c('XUIPageNavigationItem.react'),{className:"_3ew_",key:k},i._("G\u00e9rer les onglets")));}});f.exports=m;},null);
__d('PagesPostsSection',['csx','cx','Arbiter','LoadingIndicator.react','Parent','React','ReactDOM','UIPagelet'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={HIGHLIGHTS:0,ALL_POSTS:1};function k(l,m,n,o){'use strict';this.$PagesPostsSection1=l;this.$PagesPostsSection2=n;this.$PagesPostsSection3=o||j.HIGHLIGHTS;this.$PagesPostsSection4=null;if(m){this.$PagesPostsSection5=m;this.$PagesPostsSection5.setPostClickHandler(this.$PagesPostsSection6.bind(this));}if(!this.$PagesPostsSection2.hidden)this.$PagesPostsSection4=c('Arbiter').subscribe('PagesTimelineSearch/search',this.$PagesPostsSection7.bind(this));}k.prototype.$PagesPostsSection7=function(l,m){'use strict';var n=c('Parent').bySelector(this.$PagesPostsSection1,"._1k4h");n.parentNode.style.minHeight=window.innerHeight+'px';c('ReactDOM').render(c('React').createElement(c('LoadingIndicator.react'),{size:'small',color:'white',className:'loadingIndicator'}),this.$PagesPostsSection1);this.$PagesPostsSection2.search_query=m.query;c('UIPagelet').loadFromEndpoint('PagePostsSectionPagelet',n.parentNode,this.$PagesPostsSection2,{displayCallback:function(o){if(this.$PagesPostsSection4){c('Arbiter').unsubscribe(this.$PagesPostsSection4);this.$PagesPostsSection4=null;}o();c('Arbiter').inform('PagesTimelineSearch/searchDone',{query:m.query});}.bind(this)});};k.prototype.$PagesPostsSection6=function(l,m){'use strict';var n=c('Parent').bySelector(this.$PagesPostsSection1,"._1k4h");n.parentNode.style.minHeight=window.innerHeight+'px';c('ReactDOM').render(c('React').createElement(c('LoadingIndicator.react'),{size:'small',color:'white',className:'loadingIndicator'}),this.$PagesPostsSection1);m.item.disable();if(this.$PagesPostsSection3!=j.ALL_POSTS){this.$PagesPostsSection3=j.ALL_POSTS;this.$PagesPostsSection2.show_all_posts=true;}else{this.$PagesPostsSection3=j.HIGHLIGHTS;this.$PagesPostsSection2.show_all_posts=false;}c('UIPagelet').loadFromEndpoint('PagePostsSectionPagelet',n,this.$PagesPostsSection2,{displayCallback:function(o){o();m.item.enable();}});};f.exports=k;},null);
__d('PagesPostsSections',['csx','Arbiter','CSS','DOM','DOMScroll','Event','PagesTimelineController','ScrollingPager','Vector','queryThenMutateDOM','tidyEvent'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=120,j='PagesPostsSections/scrollListener';function k(l){'use strict';this.$PagesPostsSections1=l;this.$PagesPostsSections2={};this.$PagesPostsSections3=0;this.$PagesPostsSections4=0;for(var m=0;m<this.$PagesPostsSections1.length;m++){this.$PagesPostsSections2[this.$PagesPostsSections1[m].key]={section:this.$PagesPostsSections1[m].section,index:m};this.$PagesPostsSections1[m].loaded=!m;this.$PagesPostsSections1[m].fire_on_scroll_enabled=true;this.$PagesPostsSections1[m].first_posts_loaded=!m;}var n=function(o,p){if(p.section_index+1<this.$PagesPostsSections1.length){c('CSS').show(this.$PagesPostsSections1[p.section_index+1].section);c('Arbiter').inform('dom-scroll');}if(this.$PagesPostsSections3<this.$PagesPostsSections1.length-1)this.$PagesPostsSections1[++this.$PagesPostsSections3].loaded=true;};c('tidyEvent')(c('Arbiter').subscribe(c('PagesTimelineController').SECTION_FULLY_LOADED,n.bind(this)));c('tidyEvent')(c('Arbiter').subscribe(c('PagesTimelineController').LOAD_SECTION,this.loadSection.bind(this)));c('tidyEvent')(c('Event').listen(window,'scroll',this.scrollListener.bind(this)));c('tidyEvent')(c('Arbiter').subscribe(c('PagesTimelineController').FIRST_POSTS_LOADED,this.firstPostsLoaded.bind(this)));c('tidyEvent')(c('Arbiter').subscribe(c('PagesTimelineController').REMOVE_SECTION,this.removeSection.bind(this)));}k.prototype.firstPostsLoaded=function(l,m){'use strict';var n=document.getElementsByClassName('ego_ads_boost_post_nux_context');if(n.length){var o=c('Vector').getScrollPosition().x,p=c('Vector').getElementPosition(n[0]).y-i;c('DOMScroll').scrollTo(new (c('Vector'))(o,p,'document'));}var q=this.$PagesPostsSections2[m.section_key];q.section.style.minHeight='';this.$PagesPostsSections1[q.index].first_posts_loaded=true;};k.prototype.loadSection=function(l,m){'use strict';var n=this.$PagesPostsSections2[m.section_key].section,o=this.$PagesPostsSections2[m.section_key].index;for(var p=0;p<o;p++){if(p!==o)this.setFireOnScroll(p,false);if(p>=this.$PagesPostsSections3){c('CSS').show(this.$PagesPostsSections1[p].section);this.$PagesPostsSections1[p].loaded=true;}}this.$PagesPostsSections3=o;if(!this.$PagesPostsSections1[o].first_posts_loaded){if(!this.$PagesPostsSections1[o].fire_on_scroll_enabled)this.setFireOnScroll(o,true);n.style.minHeight=window.innerHeight+'px';}if(!o&&!this.$PagesPostsSections1[o].loaded){c('DOMScroll').scrollTo(document.body);}else{c('CSS').show(n);this.$PagesPostsSections1[this.$PagesPostsSections3].loaded=true;var q=c('Vector').getScrollPosition().x,r=c('Vector').getElementPosition(n).y-i;c('DOMScroll').scrollTo(new (c('Vector'))(q,r,'document'));}};k.prototype.setFireOnScroll=function(l,m){'use strict';var n=this.$PagesPostsSections1[l].section,o=c('DOM').scry(n,"div._5t6j"),p=o.length?o[o.length-1]:null;if(p){var q=c('ScrollingPager').getInstance(p.id);if(q){this.$PagesPostsSections1[l].fire_on_scroll_enabled=m;if(m){q.register();}else q.removeOnVisible();}}};k.prototype.scrollListener=function(event){'use strict';c('queryThenMutateDOM')(this.getActiveSectionIndex.bind(this),function(){c('PagesTimelineController').activateScrubberItem(this.$PagesPostsSections1[this.$PagesPostsSections4].key);}.bind(this),j);};k.prototype.getActiveSectionIndex=function(){'use strict';var l=0;for(var m=0;m<this.$PagesPostsSections1.length;m++){var n=this.$PagesPostsSections1[m].section,o=c('Vector').getElementPosition(n,'viewport').y;if(o>i)break;if(this.$PagesPostsSections1[m].loaded)l=m;}if(l!=this.$PagesPostsSections4)this.$PagesPostsSections4=l;};k.prototype.removeSection=function(l,m){'use strict';var n=this.$PagesPostsSections2[m.section_key].index;this.$PagesPostsSections1[n].loaded=false;c('CSS').hide(this.$PagesPostsSections2[m.section_key].section);};f.exports=k;},null);
__d('PagesTimelineChaining',['csx','cx','Arbiter','CSS','Event','PageLikeConstants','Parent','Style','UIPagelet','tidyEvent'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={_recentlyLikedPageIDs:{},container:null,init:function(k,l){this.container=k;if(!this._showChainSuggestions(l.pageID))this._subscriptions=[c('Arbiter').subscribe(c('PageLikeConstants').LIKED,this.onLike.bind(this,l.pageID)),c('Arbiter').subscribe(c('PageLikeConstants').UNLIKED,this.onUnlike.bind(this))];},onLike:function(k,l,m){if(m.profile_id===k&&c('Parent').bySelector(m.target,"._5d_i")){this._recentlyLikedPageIDs[k]=true;this._showChainSuggestions(k);this._subscriptions.forEach(function(n){return c('Arbiter').unsubscribe(n);});this._subscriptions=[];}},onUnlike:function(k,l){c('UIPagelet').loadFromEndpoint('PagesLikeCheckupPagelet',this.container,{},{displayCallback:this.displayCallback.bind(this)});this._subscriptions.forEach(function(m){return c('Arbiter').unsubscribe(m);});this._subscriptions=[];},displayCallback:function(k){if(k)k();var l=this.container.firstChild;if(l)c('Style').set(this.container,'height',l.offsetHeight+'px');},_showChainSuggestions:function(k){if(!(k in this._recentlyLikedPageIDs))return false;c('UIPagelet').loadFromEndpoint('PagesTimelineChainingPagelet',this.container,{pageID:k},{displayCallback:this.displayCallback.bind(this)});return true;},dismissCallback:function(k,l){c('CSS').hide(this.container);delete this._recentlyLikedPageIDs[l];if(this._subscriptions.length){this._subscriptions.forEach(function(m){return c('Arbiter').unsubscribe(m);});this._subscriptions=[];}},attachDismissCallback:function(k,l,m){c('Event').listen(k,'click',this.dismissCallback.bind(this,l,m));}};f.exports=j;},null);
__d('PagesTimelineSearchBar.react',['ix','cx','fbt','Arbiter','PagesEventObserver','PagesEventType','React','Image.react','XUIButton.react','XUITextInput.react','fbglyph'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('React').createClass({displayName:'PagesTimelineSearchBar',_lastQuery:'',propTypes:{pageID:k.string.isRequired,searchQuery:k.string.isRequired,maxLength:k.number.isRequired},getInitialState:function(){return {query:this.props.searchQuery,disabled:false};},componentWillMount:function(){c('Arbiter').subscribe('PagesTimelineSearch/searchDone',this._onSearchDone);},render:function(){var m=j._("Rechercher publications sur la Page"),n=null;if(!this.state.disabled&&this.state.query)n=c('React').createElement(c('XUIButton.react'),{className:"_5wkw",image:c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/cross_16_bluegray-40.png")}),alt:j._("Effacer"),onClick:this._onClear});var o=this.state.disabled?"_1fa6 _1wqb":"_1fa6";return (c('React').createElement('div',{className:o},c('React').createElement(c('XUIButton.react'),{className:"_3fbq",image:c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/magnifying-glass_16_bluegray-40.png")}),alt:j._("Rechercher"),disabled:this.state.disabled,onClick:this._onSearch}),c('React').createElement(c('XUITextInput.react'),{className:"_3fbp",onChange:this._onChange,placeholder:m,value:this.state.query,onEnter:this._onSearch,disabled:this.state.disabled}),n));},_onClear:function(event){if(!this._lastQuery){this.setState({query:''});}else if(!this.state.disabled){this.setState({disabled:true,query:''});c('Arbiter').inform('PagesTimelineSearch/search',{query:''});c('PagesEventObserver').notify(c('PagesEventType').SEARCH_TIMELINE_POSTS,this.props.pageID,{searchTerm:''});}},_onChange:function(event){var m=event.target.value;if(m.length<=this.props.maxLength)this.setState({query:m});},_onSearch:function(event){if(!this.state.disabled){this.setState({disabled:true});c('Arbiter').inform('PagesTimelineSearch/search',{query:this.state.query});c('PagesEventObserver').notify(c('PagesEventType').SEARCH_TIMELINE_POSTS,this.props.pageID,{searchTerm:this.state.query});}},_onSearchDone:function(m,n){if(n.query===this.state.query){this.setState({disabled:false});this._lastQuery=n.query;}}});f.exports=l;},null);
__d('PlaceActionLink',['AsyncRequest','Dialog'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={start_claim_link:function(i){var j=new (c('AsyncRequest'))().setMethod('POST').setURI('/ajax/places/claim/start_claim.php').setData({id:i});new (c('Dialog'))().setAsync(j).show();return false;},refer_claim_link:function(i){var j=new (c('AsyncRequest'))().setMethod('POST').setURI('/ajax/places/claim/refer_claim.php').setData({id:i});new (c('Dialog'))().setAsync(j).show();return false;}};f.exports=h;},null);
__d('legacy:place-action-link',['PlaceActionLink'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();b.PlaceActionLink=c('PlaceActionLink');},3);
__d('ProfileCoverEditControls',['ArbiterMixin','Event','mixin'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('mixin')(c('ArbiterMixin')));i=h&&h.prototype;function j(k,l,m,n){'use strict';i.constructor.call(this);this.root=k;this.save=l;this.cancel=m;this.input=n;c('Event').listen(l,'click',function(){this.inform('save');}.bind(this));c('Event').listen(m,'click',function(){this.inform('cancel');}.bind(this));}j.prototype.getSaveButton=function(){'use strict';return this.save;};j.prototype.getCancelButton=function(){'use strict';return this.cancel;};j.prototype.getInput=function(){'use strict';return this.input;};f.exports=j;},null);